<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Bookflip Editor</title>
<style>
  body{background:#111;color:#eee;font-family:Arial,Helvetica,sans-serif;margin:20px}
  h1{font-size:20px;margin-bottom:10px}
  textarea,input{width:100%;margin:5px 0;padding:6px;border-radius:6px;border:1px solid #444;background:#222;color:#eee}
  button{padding:8px 12px;margin:6px 0;border:none;border-radius:6px;background:#4cafef;color:#000;font-weight:bold;cursor:pointer}
  button:hover{background:#66cfff}
  pre{background:#000;padding:10px;border-radius:6px;white-space:pre-wrap;word-break:break-all}
  .out{margin-top:15px}
</style>
</head>
<body>
  <h1>Bookflip Editor</h1>

  <label>Ссылки на изображения (по одной в строку):</label>
  <textarea id="imgs" rows="6"></textarea>

  <label>Размер страницы (ширина x высота, px):</label>
  <input id="w" value="1600">
  <input id="h" value="2000">

  <label>Скорость перелистывания (мс):</label>
  <input id="flipTime" value="800">

  <button id="gen">Сгенерировать iframe для Genially</button>

  <div class="out">
    <h3>iframe:</h3>
    <pre id="out"></pre>
  </div>

<script>
document.getElementById('gen').onclick=()=>{
  const base='https://nikashum93.github.io/bookflip/viewer.html';

  const imgs=document.getElementById('imgs').value
    .split(/\n+/).map(s=>s.trim()).filter(Boolean)
    .map(encodeURIComponent).join('|');

  const w=document.getElementById('w').value||1600;
  const h=document.getElementById('h').value||2000;
  const flipTime=document.getElementById('flipTime').value||800;

  const url=`${base}?imgs=${imgs}&w=${w}&h=${h}&flipTime=${flipTime}`;

  const iframe=`<iframe src="${url}" width="${w*2}" height="${h}" style="border:0;overflow:hidden;background:transparent" allow="autoplay" scrolling="no"></iframe>`;

  document.getElementById('out').textContent=iframe;
};
</script>
</body>
</html>
