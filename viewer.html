<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Teachy Witchy — Book Viewer</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/page-flip@2.0.7/dist/css/page-flip.min.css">
<style>
  html,body{margin:0;height:100%;background:transparent;overflow:hidden}
  .scene{position:relative;width:100%;height:100%;background:transparent;display:flex;align-items:center;justify-content:center}
  .book-frame{position:relative;transform-origin:center center;will-change:transform;pointer-events:auto}
  #book{width:100%;height:100%;background:transparent;pointer-events:auto}

  /* сброс библиотечных теней */
  .stf__wrapper,.stf__block,.stf__item,.stf__page,.stf__content{
    background:transparent !important;margin:0 !important;padding:0 !important;border:0 !important;box-shadow:none !important;
  }
  .stf__page{overflow:hidden}
  .page{width:100%;height:100%;position:relative}
  .page img{
    width:100%;height:100%;
    object-fit:contain;
    display:block;user-select:none;-webkit-user-drag:none;pointer-events:none;
  }

  /* виньетки по краям страниц */
  .stf__item--left::after, .stf__item--right::after{
    content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:multiply;
  }
  .stf__item--left::after{
    background:linear-gradient(90deg, rgba(0,0,0,.22) 0%, rgba(0,0,0,0) 14%);
  }
  .stf__item--right::after{
    background:linear-gradient(270deg, rgba(0,0,0,.22) 0%, rgba(0,0,0,0) 14%);
  }

  /* внутренняя тень у корешка */
  .stf__item--left::before, .stf__item--right::before{
    content:""; position:absolute; top:0; bottom:0; width:3%;
    pointer-events:none; mix-blend-mode:multiply; opacity:.4;
  }
  .stf__item--left::before{ right:0;  background:linear-gradient(90deg, rgba(0,0,0,.6), rgba(0,0,0,0)); }
  .stf__item--right::before{ left:0;   background:linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.6)); }

  /* ТЕНЬ ПОД КНИГОЙ ПО ПЕРИМЕТРУ */
  .stf__item{
    filter:
      drop-shadow(0 18px 22px rgba(0,0,0,.28))
      drop-shadow(0 4px 10px rgba(0,0,0,.20));
  }
  /* для обложки/задника (одна страница) — мягче */
  .book-frame.single .stf__item{
    filter:
      drop-shadow(0 14px 18px rgba(0,0,0,.22))
      drop-shadow(0 2px 8px rgba(0,0,0,.16));
  }

  .overlay{position:absolute;inset:0;display:none;align-items:center;justify-content:center;
    background:rgba(0,0,0,.25);color:#fff;font:14px/1.4 system-ui,Segoe UI,Roboto,Arial;z-index:9999}
  .overlay.show{display:flex}
  .overlay .panel{background:#121212;border:1px solid #333;border-radius:12px;padding:12px 14px;max-width:720px}
</style>
</head>
<body>
  <div id="scene" class="scene">
    <div id="frame" class="book-frame">
      <div id="book"></div>
    </div>
    <div id="ovl" class="overlay"><div class="panel" id="ovlMsg">Ошибка</div></div>
  </div>

  <audio id="flipSound" preload="auto" src="https://raw.githubusercontent.com/NikaShum93/bookflip/main/flip.mp3"></audio>
  <script src="https://cdn.jsdelivr.net/npm/page-flip@2.0.
